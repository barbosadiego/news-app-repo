"use strict";(self["webpackChunknews_app"]=self["webpackChunknews_app"]||[]).push([[464],{6336:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"search-results"},[e.isLoading?s("Loading"):s("div",[s("h1",[e._v("search results: "+e._s(e.searchItem))]),s("div",{staticClass:"items-array"},e._l(e.searchResults,(function(t,a){return s("div",{key:`${a} - ${t.source.name}`,staticClass:"item"},[s("a",{attrs:{href:t.url,target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:t.image?t.image:"https://via.placeholder.com/450",alt:t.title}}),s("h3",{staticClass:"title"},[e._v(e._s(t.title))]),s("div",{staticClass:"info"},[s("span",{staticClass:"publishedAt"},[e._v(e._s(e.timeLocale(t.publishedAt)))]),s("span",{staticClass:"source"},[e._v(e._s(t.source.name))])])])])})),0)])],1)},r=[],i=(t(1703),t(4686)),c={name:"SearchResults",components:{Loading:i.Z},data(){return{searchResults:[],searchItem:"",isLoading:!1}},methods:{getParams(){const e=new URLSearchParams(window.location.search),s=e.get("query");this.searchItem=e.get("query"),s&&this.getSearch(s)},async getSearch(e){try{this.isLoading=!0;const s=await fetch(`https://gnews.io/api/v4/search?q=${e}&token=65770b6f1d5cfb259f19aa1ee5355d87&lang=pt`),t=await s.json();if(!s.ok)throw this.isLoading=!1,console.log(t.errors),this.$emit("errorActive",t.errors[0]),new Error(t.errors[0]);this.isLoading=!1,this.searchResults=t.articles}catch(s){console.log(s)}},timeLocale(e){return new Date(e).toLocaleDateString("pt-BR")}},created(){this.getParams()},watch:{$route:"getParams"}},n=c,o=t(1001),l=(0,o.Z)(n,a,r,!1,null,"56a3e3de",null),h=l.exports}}]);
//# sourceMappingURL=search.95950509.js.map